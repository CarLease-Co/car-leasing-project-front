@if (!isLoading) {
  <div class="user-list">
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input />
    </mat-form-field>

    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="announceSortChange($event)"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="userId">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by ID"
        >
          Id
        </th>
        <td mat-cell *matCellDef="let employee">{{ employee.userId }}</td>
      </ng-container>

      <ng-container matColumnDef="fullName">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by full name"
        >
          Full Name
        </th>
        <td mat-cell *matCellDef="let employee">
          {{ employee.surname }}, {{ employee.name }}
        </td>
      </ng-container>

      <ng-container matColumnDef="role">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by role"
        >
          Role
        </th>
        <td mat-cell *matCellDef="let employee">{{ employee.role }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by email"
        >
          Email
        </th>
        <td mat-cell *matCellDef="let employee">{{ employee.email }}</td>
      </ng-container>
      <ng-container matColumnDef="password">
        <th mat-header-cell *matHeaderCellDef>Password</th>
        <td mat-cell *matCellDef="let employee">**********</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          No data matching the filter "{{ input.value }}"
        </td>
      </tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[10, 20, 30, 100]"
      aria-label="Select page of users"
    ></mat-paginator>
  </div>
} @else {
  <app-spinner></app-spinner>
}
